{% macro redner_jobs_table(jobs, edit_job_endpoint) %}
    <div class="d-block my-4">
        <h3 class="my-4 d-inline">Review and Edit Jobs</h3><span class="d-inline ml-4"><a href="">(Click for jobs pending approval)</a></span>
    </div>
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">Posted by</th>
            <th scope="col">Trade(s)</th>
            <th scope="col">Area</th>
            <th scope="col">Job List Duration</th>
            <th scope="col">Date Posted</th>
            <th scope="col">Status</th>
            <th scope="col" class="table-action -first">
                <span class="d-none">Column with View and Edit button</span>
            </th>
            <th scope="col" class="table-action -delete" style="width:107px">
                <span class="d-none">Column with Delete button</span>
            </th>
        </tr>
        </thead>
        <tbody>
        {% for job in jobs %}
            {% for advert in job.adverts %}
                <tr>
                    <td>{{ job.company_name }}</td>
                    <td>{{ job.metadata.trades | join(', ') }}</td>
                    <td>
                        {{ (job.location.admin_district + " - " if job.location.admin_district) }} {{ job.location.postcode }}
                    </td>
                    <td>{{ advert.duration }} days</td>
                    <td>{{ advert.date.created | format_date }}</td>
                    <td>{{ advert.status }}</td>

                    <td class="table-action -first">
                        <a class="btn btn-goto" href="{{ url_for(edit_job_endpoint, job_id=job._id) }}">
                            View or Edit details
                            <div class="chevron -yellow">&nbsp;</div>
                        </a>
                    </td>
                    <td class="table-action -delete" style="width:107px">
                        <button type="button" class="btn btn-danger" data-toggle="modal"
                                data-target="#deleteModal{{ loop.index }}">Delete Job
                        </button>
                    </td>
                    <div class="modal fade" id="deleteModal{{ loop.index }}" tabindex="-1" role="dialog"
                         aria-labelledby="DeleteCompanyModal" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Delete Job</h5>
                                    <button type="button" class="close" data-dismiss="modal"
                                            aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <p>You are deleting
                                        <span class="font-weight-bold">{{ job.title }}</span>, listed by {{ job.company_name }}
                                    </p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-black" data-dismiss="modal">
                                        Cancel
                                    </button>
                                    <button type="button" class="btn btn-danger">Yes, I want to delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            {% endfor %}
        {% endfor %}
        </tbody>
    </table>
{% endmacro %}
